import sys
from PyQt5.QtWidgets import *


class MyMainWindow(QMainWindow):

    def __init__(self):
        super(MyMainWindow, self).__init__()

        layout = QHBoxLayout()
        centralWidget = QWidget()
        centralWidget.setLayout(layout)
        self.setCentralWidget(centralWidget)
        
        self.textedit = QTextEdit()
        exist_file = open(r'MainNote.txt', 'r') # открываю тип файл для чтения
        self.textedit.insertPlainText(exist_file.read()) # вроде должно устанавливать
                                                    # существующий текст
                                                    
        self.textedit.textChanged.connect(self.save_text)
        layout.addWidget(self.textedit)

    def save_text(self):
        text = self.textedit.toPlainText()
        with open('MainNote.txt', 'w') as f:
            f.write(text)
    '''def open_text(self):
        last_text = self.textedit.toPlainText()
    '''

if __name__ == "__main__":
    app = QApplication(sys.argv)
    form = MyMainWindow()
    form.show()
    sys.exit(app.exec_())
