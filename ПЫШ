import sys
from PyQt5.QtWidgets import *


class MyMainWindow(QMainWindow):

    def __init__(self):
        super(Notes, self).__init__()

        layout = QHBoxLayout()
        centralWidget = QWidget()
        centralWidget.setLayout(layout)
        self.setCentralWidget(centralWidget)

        self.textedit = QTextEdit()
        self.path = r"D:\PROGRAMMING\Notes_App\directory_for_notes"     #директория, в которой по умолчанию хранятся заметки(впиши свою)

        if not os.listdir(self.path):   #проверка на пустоту директории
            self.create_main_file()     #если в директории ничего нет, то создаем главный файл

        exist_file = open(self.path+r'\MainNote.txt', 'r')  # открываю тип файл для чтения
        self.textedit.insertPlainText(exist_file.read())

        self.textedit.textChanged.connect(self.save_text)
        layout.addWidget(self.textedit)

        # plus_button = QPushButton('Tools', self)
        # plus_button.setToolTip('This is Button for tools :)')

    def save_text(self):
        text = self.textedit.toPlainText()
        with open(self.path+r'\MainNote.txt', 'w') as f:
            f.write(text)

    def create_main_file(self):
        text = ''
        with open(self.path+r'\MainNote.txt', 'w+') as f:
            f.write(text)

if __name__ == "__main__":
    app = QApplication(sys.argv)
    form = MyMainWindow()
    form.show()
    sys.exit(app.exec_())
